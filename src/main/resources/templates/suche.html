<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>Suche</title>
		<link href="/css/stylesheet.css" rel="stylesheet" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<!--  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">-->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		
		<style>
			nav ul{
				color: white;
			}
			
			nav li{
				color: white;
			}
			
			nav a{
				white;
			}
			
			body {
		  		background: url("/images/footer.jpg") no-repeat fixed center;
			    background-size: cover;
			}
				 
			@keyframes spin {
			    0% {
			        transform: translate3d(-50%, -50%, 0) rotate(0deg);
			    }
			    100% {
			         transform: translate3d(-50%, -50%, 0) rotate(360deg);
			    }
			}
			
			#loadingmask
			{
			    width: 100%;
			    height: 100%;
			    position: absolute;
			    top: 0;
			    background: #e4e4e4 url("/images/spinner.gif") center no-repeat;
			}
		</style>
	</head>
	<body>
		<header>
			<div class="header">
				<a href="/"><img src="/images/logo v01 mit rand.png" alt="logo"
					class="logo"></a>
				<nav>
					<ul id="menu">
						<li><a href="/detektion"><span><strong>Detektor</strong></span></a></li>
						<li><a href="/suche"><span><strong>Suche</strong></span></a></li>
					</ul>
				</nav>
			</div>
		</header>
		<br><br><br><br><br>
		<div id="spinner" style="display:none;"></div>
		<div id="spinner-text" style="display:none;">
			<p>Suche läuft ...</p>
		</div>
		<div id="spinner2" style="display:none;"></div>
		<div id="spinner-text2" style="display:none;">
			<p>Synchronisation NVD Database und local Database ...</p>
		</div>
		<div class="document">
			<br><br><br>
			<div id="card">
				<section class="typewriter">
					<h1 style="text-align: center; color: #143D73; font-family: Tahoma; font-size: 38px; margin-left: -35px;"><strong>PAMA-Schwachstellensuche</strong></h1>
					<br>
					<p style="text-align: center; font-family: Tahoma; font-size: 14px; width: 600px; letter-spacing: 1px;">Mit der PAMA-Sachwachstellensuche können Sie in kürzester Zeit Schwachstellen in der US-amerikanischen Schwachstellendatenbank National Vulnerability Database (NVD) recherchieren.</p>
					<br><br>
				</section>
				<form action="/ergebnis" method="post" class="form" id="suche-form">
					<div>
						<input class="form-control" type="text" placeholder="Applikationsname, Hersteller oder ID suchen" name="input" id="sucheinput" required>
					</div>
					<br>
					<button type="submit" form="suche-form" value="Submit" onclick="func()" class="btn btn-outline-primary btn-lg" style="outline: none;">Suche</button>
				</form>
				<form action="/dbAktualisiert" method="post" style="margin-right: 98px;float: right;margin-top: -98px;">
					<button type="submit" class="btn btn-outline-primary btn-lg" onclick="func2()" style="outline:none;">Datenbank aktualisieren</button>
				</form>	
			</div>
		</div>
		<button onclick="backToTop()" id="back-to-top-button">Δ</button>
	</body>
	<script>
		//Back-to-top-button
		window.onscroll = function() {scrollFunc()};
		
		function scrollFunc() {
		  if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
		    document.getElementById("back-to-top-button").style.display = "block";
		  } else {
		    document.getElementById("back-to-top-button").style.display = "none";
		  }
		}
		
		function backToTop() {
		  	if(navigator.userAgent.indexOf("Safari/") == -1){
				document.documentElement.scrollTop = 0; 
			} else if(navigator.userAgent.indexOf("Chrome/") != -1){
		  			document.documentElement.scrollTop = 0; 
		  	} else {
		  		document.body.scrollTop = 0;
		  	}
		}
		
		function func() {
			 var x;
			    x = document.getElementById("sucheinput").value;
			    if (x == "") {
			        alert("Bitte das Inputfeld nicht leer lassen!");
			        return false;
			    }else{
			    	document.getElementById("card").style.display = "none";
					document.getElementById("spinner").style.display = "block";
					document.getElementById("spinner-text").style.display = "block";
			    };
		}
		function func2() {
			document.getElementById("card").style.display = "none";
			document.getElementById("spinner2").style.display = "block";
			document.getElementById("spinner-text2").style.display = "block";
		}
	</script>
</html>

